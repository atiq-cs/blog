

<!DOCTYPE HTML>
<!--
	Solid State by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Notes from Qubit Inc. - Useful Git Commands</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="/assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="/assets/sass/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="/assets/sass/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="/assets/sass/ie8.css" /><![endif]-->
        

	</head>
	<body>

		<!-- Page Wrapper -->
			<div id="page-wrapper">
				
				<!-- Header -->
				<header id="header">
					<h1><a href="/">Notes from Qubit Inc.</a></h1>
					<nav>
						<a href="#menu">Menu</a>
					</nav>
				</header>

				<!-- Menu -->
				<nav id="menu">
					<div class="inner">
						<h2>Menu</h2>
						<ul class="links">
							        <li><a href="/posts">Archive</a></li>
        <li><a href="/tags">Tags</a></li>
        <li><a href="/about">About Me</a></li>

						</ul>
						<a href="#" class="close">Close</a>
					</div>
				</nav>


    
<section id="banner">
  <div class="inner">
    <h2>Useful Git Commands</h2>
            <p><em>Published on Monday, July 25, 2016</em></p>
                    <a role="button" href="/tags/git" class="button small">git</a>
                <a role="button" href="/tags/source-Control" class="button small">source Control</a>
                <a role="button" href="/tags/version-Control" class="button small">version Control</a>
  </div>
</section>

				<!-- Main -->
				<section id="wrapper">
					<section class="wrapper style2">
						<div class="inner">
							

<p>[first few sections are complete, later sections yet to be updated]</p>
<h1 id="introduction">Introduction</h1>
<p>A push to the remote repo consists of following two steps,</p>
<ol>
<li>To add changes to the staging area</li>
<li>push the staged changes to remote repo</li>
</ol>
<h2 id="how-to-add-files-or-changes-to-staged-area-to-commit-later">How to add files or changes to staged area (to commit later)</h2>
<p>[update not complete yet]</p>
<p>Note: commit stores file locally. Commit is not sent to remote repository unless a <code>push</code> command is applied.</p>
<p>Here, we give some examples of adding files/directories to staged area. <a href="https://git-scm.com/book/en/v2/Getting-Started-Git-Basics">Staged area</a> means the stage before commit. Anything that are modified (added/changed/deleted) in the stage area will be performed whenever a <code>commit</code> command is applied.</p>
<p>To add files/directories to staged area, at first, we modify or change files,</p>
<p>Then we can add all those changes to staged area. This will include any new file as well,</p>
<pre><code>$ git add --all
</code></pre>
<p>But if we want to add only modifications on previously added files on repo we do this,</p>
<pre><code>$ git add -u
</code></pre>
<p>This means new files won't be added to the staged area.</p>
<p>Or, we can add selectively a few (after all modifications are done on those files), the files we want to commit we add them by applying a series of <code>git add</code> commands,</p>
<pre><code>git add file1
git add file2
………….
………….
……………
git add filen
</code></pre>
<p>Or, we can choose to add directory or files inside another directory (is this recursive, has to check),</p>
<pre><code>$ git add code_python/*
</code></pre>
<p>Remove a dir entirely,</p>
<pre><code>$ git rm -r _old_code/res/
</code></pre>
<p>How to remove a file,</p>
<pre><code>$ git rm file1.txt
$ git commit -m &quot;remove file1.txt&quot;
</code></pre>
<p>How to rename or move a file in the repo,</p>
<pre><code>$ git mv original_name new_name
</code></pre>
<p>Pleae don't be confused by &quot;name&quot; here. It supports renaming using full path as wel. It also support renaming a directories.</p>
<p>Removing a file from staged area, <a href="http://data.agaric.com/undo-git-add-remove-files-staged-git-commit">ref</a></p>
<pre><code>$ git reset /location/to/file
</code></pre>
<p>Note, this will not touch the file; only removes it from git staged area.</p>
<p>Show the changes which have been staged (git add`ed but not committed)?, <a href="https://stackoverflow.com/questions/1587846/how-do-i-show-the-changes-which-have-been-staged">ref</a></p>
<pre><code>$ git diff --cached
</code></pre>
<p>The changes we made are called deltas.</p>
<h1 id="how-to-commit-staged-changes-git-commit">How to commit staged changes (git commit)</h1>
<p>Commit to actually push the changes to local repo (will be in remote as soon as pushed). If you are doing this for the first time in the git client you installed, you need to configure committer email and user-name,</p>
<pre><code>git config --global user.email &quot;John.Doe&#64;Domain.Com&quot;
git config --global user.name &quot;John Doe&quot;
</code></pre>
<p>To check if those are set,</p>
<pre><code>git config --global --get user.email
git config --global --get user.name
</code></pre>
<p><code>git commit</code> is different than <code>svn commit</code> as <code>svn commit</code> pushes to remote repo immediately whereas git commit does not. git usually have the entire copy just like remote repo, svn does not have entire copy.</p>
<p>Note: commit stores file locally. Commit is not sent to remote repository unless a <code>push</code> command is applied (we will discuss push command on next section).</p>
<p>To add the commit message use -m switch in arguments as showed below, this supports multiline,</p>
<pre><code>git commit -m &quot;first commit message&quot;
</code></pre>
<p>Here is an example of multi-line commit message, surrounding the entire commit message with double quotes works,</p>
<pre><code>$ git commit -m &quot;Implemented secure functions - line1
line2 - example line that means code won't work on Linux, we'll have to add separate
line3 - branch for Linux
line4 - Update on logic based on tests&quot;
</code></pre>
<p>In powershell, single quote works for multi-line commit message,</p>
<pre><code>$ git commit -m &quot;line1
line2
line3
line4&quot;
</code></pre>
<h1 id="pushing-to-remotesending-deltas-to-remote-repo-server">Pushing to remote(sending deltas to remote repo server)</h1>
<p>Then use &quot;git push origin branch_name&quot;</p>
<p>Here is an example of Pushing to remote master branch,</p>
<pre><code>$ git push origin master
</code></pre>
<p>To show info about git repo's remote origin,</p>
<pre><code>$ git remote show origin
</code></pre>
<h1 id="git-undo-edit-commit-etc">git undo, edit commit etc</h1>
<p>To Rollback to a specific previous commit we do,</p>
<pre><code>git reset --hard 
git push -f
</code></pre>
<p>To roll back to previous to last commit we do,</p>
<pre><code>git reset --hard ~HEAD
git push -f
</code></pre>
<p>We can edit commit message of the last commit anytime before push,</p>
<pre><code>$ git commit --amend
</code></pre>
<p>If we want to use commit message from a file file,</p>
<pre><code>$ git commit -F filepath.ext
</code></pre>
<p>Commit message from file (amend previous one),</p>
<pre><code>$ git commit -eF filepath.ext
</code></pre>
<p>After pushing you still can edit the commit message,</p>
<pre><code>$ git commit -eF filepath.ext
</code></pre>
<p>Then do a force push,</p>
<pre><code>$ git push -f origin master
</code></pre>
<p>However, if someone has made another commit in the meantime those commits will be gone. So be aware of that!</p>
<p>To edit previous commit messages that are pushed,</p>
<pre><code>$ git rebase --interactive 88af37e
</code></pre>
<p>Then Ctrl X then,</p>
<pre><code>$ git rebase --continue
$ git push -f origin master
</code></pre>
<p>Again, a force push destroys commit made by others.</p>
<p>To correct commit author name upto specific commit (probably? or is it only for single commit?),</p>
<pre><code>git reset author
git add -u
git rebase -i -p 7508a2627bee2a28535e7ae306c51788fd287f9f
</code></pre>
<p>mark all of them as ‘e’ and keep applying following commands. In this example, the author's email address is <code>atiqcs&#64;fftsys.com</code>,</p>
<pre><code>git commit --amend --author &quot;Atiq Rahman &quot;
git rebase --continue
</code></pre>
<p>Removing a single commit from history,
There might be conflicts during the operation, some commit order gets changed as well (not order by date anymore), Be aware this is dangerous and might now work,</p>
<pre><code>$ git rebase --onto dadfe3e^ dadfe3e HEAD
</code></pre>
<p>Then, after conflict resolution, ref</p>
<pre><code>$ git rebase --continue
</code></pre>
<h1 id="stashing-commands">Stashing Commands</h1>
<p>Be careful while applying these commands.</p>
<p>Stashing all local changes
Hard - stash all local changes and pull updated code <a href="http://stackoverflow.com/questions/4157189/git-pull-while-ignoring-local-changes">[ref]</a></p>
<p>This is better than ‘git stash’ It deletes unstaged changes,</p>
<pre><code>$ git checkout -- .
</code></pre>
<p>Clean up all non version controlled files,</p>
<pre><code>$ git clean -df
</code></pre>
<p>Find last commit id,
To get long commit id,</p>
<pre><code>$ git rev-parse HEAD
</code></pre>
<p>To get short commit id,</p>
<pre><code>$ git rev-parse --short HEAD
</code></pre>
<h3 id="checking-specific-revision-of-a-file-or-getting-specific-revision">Checking specific revision of a file or getting specific revision</h3>
<p>Checkout specific revision of a file,</p>
<pre><code>$ git checkout abcde file/to/restore
</code></pre>
<p>git checkout specific commit</p>
<pre><code>git checkout -b old_state f5bf0d670686143a67177e9d81474687535a761e
</code></pre>
<p>Or do following,</p>
<pre><code>git reset --hard origin/master
git fetch
git checkout -b old_state f5bf0d6
</code></pre>
<p>git checkout can be useful in restoring a mistakenly delete file as well or to stash changes on a specific file,</p>
<pre><code>$ git checkout abcde file/to/restore
</code></pre>
<p>This restore the file of the current revision. [<a href="http://stackoverflow.com/questions/953481/find-and-restore-a-deleted-file-in-a-git-repository">ref</a>]</p>
<p>View a commit,</p>
<pre><code>$ git show commit_id
</code></pre>
<p>Show specific revision of a file, ref</p>
<pre><code>$ git show commit_id:file_path
$ git show 61c2ac6:src/bootstrapper.cc
</code></pre>
<h1 id="conflict-resolution">Conflict Resolution</h1>
<p>Most common approach in resolving conflict is to check which files are having conflict,</p>
<pre><code>$ git status
</code></pre>
<p>And what changes are coming from what side that is causing the conflict,</p>
<pre><code>$ git diff
</code></pre>
<p>Addionally, a file path can be specified to see what changes are coming from the remote and local,</p>
<pre><code>$ git diff /path/to/file
</code></pre>
<p>Then, we use a merge tool or manually modify the content file and finalize the conflict resolution. Afterwards, when are done doing that with that file we do,</p>
<pre><code>$ git add file_path
</code></pre>
<p>When conflict  resolved for all files finally we do,m</p>
<pre><code>$ git commit -m &quot;conflict resolved commit and so on..&quot;
</code></pre>
<p>However, in some case conflict resolution can be easier. For example, you might want to discard local changes and just accept remote forcefully. In such a case we can follow this:</p>
<p>A basic overview how to merge is on this <a href="http://www.gitguys.com/topics/merging-with-a-conflict-conflicts-and-resolutions/">gitguys' article</a></p>
<pre><code>git fetch
</code></pre>
<p>Accept their change for single file, ref</p>
<pre><code>git checkout --theirs src/register-configuration.cc
</code></pre>
<h1 id="origin-tricks-and-branches">Origin tricks and Branches</h1>
<p>Change repository URL,</p>
<pre><code>git remote set-url origin https://github.com/sacsdu/testing.git
</code></pre>
<p>switch to a new branch,</p>
<pre><code>git checkout -b dev_branch
</code></pre>
<p>show current branch and other branches,</p>
<pre><code>git branch
</code></pre>
<p>Delete a branch on your local filesystem,</p>
<pre><code>git branch -d testing_branch
</code></pre>
<p>The git push syntax is: git push [remote-repository-name] [branch-or-commit-name],</p>
<pre><code>git push origin dev_branch
</code></pre>
<p>Change remote origin,</p>
<pre><code>git remote set-url origin URL
</code></pre>
<h1 id="detached-head">Detached Head</h1>
<p>If we want our git repo to have no current branch then we can do this,</p>
<pre><code>git checkout COMMIT-SHA-ID
</code></pre>
<h1 id="git-configuration-files">Git configuration Files</h1>
<p>When we perform <code>git config</code> it applies only to the current project. The configuration file that gets update is,</p>
<pre><code>./.git/config
</code></pre>
<p>When we apply <code>git config --global</code> it updates following file,</p>
<pre><code>~/.gitconfig
</code></pre>
<p>If none of these exist then the systems git config file is applied. According to priority these files are presented below,</p>
<pre><code>./.git/config
~/.gitconfig
/etc/gitconfig (guessing I don't recall the exact location)
</code></pre>
<h1 id="references">References</h1>
<ol>
<li><a href="https://git-scm.com/book/en/v2/Getting-Started-Git-Basics">Getting Started - Git Basics</a></li>
</ol>



						</div>
					</section>
				
				</section>
				
				<!-- Footer -->
                <footer id="footer">
                    <div class="inner">
    <section>
            <h2>Feeds</h2>
            <ul class="actions">
                <li><a href="/feed.rss" class="button small"><i class="fa fa-rss"></i> RSS Feed</a></li>
                                <li><a href="/feed.atom" class="button small"><i class="fa fa-rss"></i> Atom Feed</a></li>
            </ul>
    </section>
    <section>
    </section>
    <ul class="copyright">
        <li>Copyright © 2020</li>
        <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
        <li><a href="https://wyam.io">Generated by Wyam</a></li>
    </ul>
</div>
                </footer>
			</div>

		<!-- Scripts -->
			<script src="/assets/js/skel.min.js"></script>
			<script src="/assets/js/jquery.min.js"></script>
			<script src="/assets/js/jquery.scrollex.min.js"></script>
			<script src="/assets/js/util.js"></script>
            <!--[if lte IE 8]><script src="/assets/js/ie/respond.min.js"></script><![endif]-->
            <script src="/assets/js/main.js"></script>

	</body>

</html>